import { calculate } from "./basic-calculator";

describe("basic-calculator", () => {
    spec("1+2", 3);
    spec("1-2", -1);
    spec("(1+2)", 3);
    spec("(1-2)", -1);
    spec("-1", -1);
    spec("-(1)", -1);
    spec("-(1 - 2)", 1);
    spec("1+2+3+4-(5+5)+1", 1);
    spec("1+2+3+4-(5+5)+1", 1);
    spec("1 + 1", 2);
    spec(" 2-1 + 2 ", 3);
    spec("(1+(4+5+2)-3)+(6+8)", 23);
    spec("10-(110)", -100);
    spec("5 - (2 + (3) - (1 + (-1)))", 0);
    spec("5 - (2 + (3) - (1 + -(-1)))", 2);
    spec("((((3))))", 3);
    spec("-(-(-(-(-3))))", -3);
    spec("2-4-(8+2-6+((1)))", -7);
    spec("(8+2-6+(4-(1)+8))", 15);
    spec("(((1)+8))", 9);
    spec("-(((1)))", -1);
    spec("-((1+8))", -9);
    spec("-(1)+8", 7);
    spec("((1)+8)", 9);
    spec("-(8+1)", -9);
    spec("-((1)+8)", -9);
    spec("-(((1)+8))", -9);
    spec("-((-(1)+8))", -7);
    spec("-((4-(1)+8))", -11);
    spec("-(6+(4-(1)+8))", -17);
    spec("-(2-6+(4-(1)+8))", -7);
    spec("-(8+2-6+(4-(1)+8))", -15);
    spec("4-(8+2-6+(4-(1)+8))", -11);
    spec("2-4-(8+2-6+(4-(1)+8))", -17);
    spec("2-4-(8+2-6+(8+4-1+8-10))", -15);
    spec("2-4-(8+2-6+(8+4-(1)+8-10))", -15);

    function spec(input: string, expected: number) {
        it(`${JSON.stringify({ input, expected })}`, () => {
            expect(calculate(input)).toEqual(expected);
        });
    }
});
